version: '3.8'

services:
  web:
    image: "${IMAGE_APP:-webapp:latest}"
    container_name: webapp
    build:
      context: ./WebApplication
      dockerfile: Dockerfile
      args:
        BUILD_CONFIGURATION: Release
    ports:
      - "5000:80"
    environment:
      - DOTNET_RUNNING_IN_CONTAINER=true
      - DOTNET_USE_POLLING_FILE_WATCHER=true
    restart: unless-stopped
    networks:
      - webnet

networks:
  webnet:
    driver: bridge